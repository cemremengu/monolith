version: "3"

tasks:
  server:
    desc: "Run the server in development mode with hot reload"
    cmds:
      - wgo run ./cmd/enok

  web:
    desc: "Run the web development server"
    cmds:
      - cd web && npm run dev

  lint:go:
    desc: "Run Go linting and formatting"
    cmds:
      - golangci-lint fmt
      - golangci-lint run

  lint:web:
    desc: "Run web linting and formatting"
    dir: web
    cmds:
      - npm run lint:fix

  update:
    desc: "Update Go dependencies and tidy modules"
    cmds:
      - go get -u ./...
      - go mod tidy
